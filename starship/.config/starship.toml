# Starship Prompt Configuration
# A minimal, blazing-fast, and infinitely customizable prompt
# https://starship.rs/config/

# Get editor completions based on the config schema
"$schema" = 'https://starship.rs/config-schema.json'

# Inserts a blank line between shell prompts
add_newline = true

# Timeout for starship to scan files (milliseconds)
scan_timeout = 30
command_timeout = 500

# Format of the prompt
format = """
[‚ï≠‚îÄ](bold green)$username$hostname$directory$git_branch$git_status$git_state$git_metrics$rust$python$nodejs$golang$docker_context$kubernetes$aws$gcloud$azure
[‚ï∞‚îÄ](bold green)$character"""

# Right prompt (on the same line as input)
right_format = """$cmd_duration$time"""

# ============================================================================
# Prompt Character
# ============================================================================
[character]
success_symbol = "[‚ûú](bold green)"
error_symbol = "[‚úó](bold red)"
vimcmd_symbol = "[‚åò](bold yellow)"
vimcmd_visual_symbol = "[V](bold cyan)"
vimcmd_replace_symbol = "[R](bold purple)"
vimcmd_replace_one_symbol = "[R](bold purple)"

# ============================================================================
# Directory
# ============================================================================
[directory]
style = "bold cyan"
truncation_length = 3
truncate_to_repo = true
truncation_symbol = "‚Ä¶/"
home_symbol = "~"
read_only = " üîí"
read_only_style = "red"

# Custom directory replacements
[directory.substitutions]
"Documents" = "üìÑ "
"Downloads" = "üì• "
"Music" = "üéµ "
"Pictures" = "üì∑ "
"Projects" = "üíª "
"dotfiles" = "‚öôÔ∏è  "

# ============================================================================
# Git Branch
# ============================================================================
[git_branch]
symbol = " "
style = "bold purple"
truncation_length = 20
truncation_symbol = "‚Ä¶"
only_attached = false
always_show_remote = false

# ============================================================================
# Git Status
# ============================================================================
[git_status]
style = "bold red"
disabled = false
conflicted = "‚öîÔ∏è "
ahead = "‚á°${count}"
behind = "‚á£${count}"
diverged = "‚áï‚á°${ahead_count}‚á£${behind_count}"
untracked = "?${count}"
stashed = "üì¶${count}"
modified = "!${count}"
staged = "+${count}"
renamed = "¬ª${count}"
deleted = "‚úò${count}"

# ============================================================================
# Git Metrics
# ============================================================================
[git_metrics]
disabled = false
added_style = "bold green"
deleted_style = "bold red"
only_nonzero_diffs = true
format = '([+$added]($added_style) )([-$deleted]($deleted_style) )'

# ============================================================================
# Git State
# ============================================================================
[git_state]
format = '[\($state( $progress_current of $progress_total)\)]($style) '
style = "bright-black"
rebase = "REBASING"
merge = "MERGING"
revert = "REVERTING"
cherry_pick = "CHERRY-PICKING"
bisect = "BISECTING"
am = "AM"
am_or_rebase = "AM/REBASE"

# ============================================================================
# Username
# ============================================================================
[username]
style_user = "bold yellow"
style_root = "bold red"
format = "[$user]($style) "
disabled = false
show_always = false

# ============================================================================
# Hostname
# ============================================================================
[hostname]
ssh_only = true
ssh_symbol = "üåê "
style = "bold green"
format = "on [$hostname]($style) "
disabled = false

# ============================================================================
# Time
# ============================================================================
[time]
disabled = false
time_format = "%T"
style = "bold dimmed white"
format = '[$time]($style) '

# ============================================================================
# Command Duration
# ============================================================================
[cmd_duration]
min_time = 2_000
style = "bold yellow"
format = "took [$duration]($style) "
show_milliseconds = false
show_notifications = false

# ============================================================================
# Programming Languages
# ============================================================================

# Rust
[rust]
symbol = " "
style = "bold red"
format = "via [$symbol($version )]($style)"
disabled = false

# Python
[python]
symbol = " "
style = "bold yellow"
format = 'via [${symbol}${pyenv_prefix}(${version} )(\($virtualenv\) )]($style)'
pyenv_version_name = false
pyenv_prefix = "pyenv "
python_binary = ["python3", "python", "python2"]
detect_extensions = ["py"]
detect_files = [".python-version", "Pipfile", "__pycache__", "pyproject.toml", "requirements.txt", "setup.py", "tox.ini"]
detect_folders = []
disabled = false

# Node.js
[nodejs]
symbol = " "
style = "bold green"
format = "via [$symbol($version )]($style)"
detect_extensions = ["js", "mjs", "cjs", "ts", "mts", "cts"]
detect_files = ["package.json", ".node-version", ".nvmrc"]
detect_folders = ["node_modules"]
disabled = false

# Go
[golang]
symbol = " "
style = "bold cyan"
format = "via [$symbol($version )]($style)"
detect_extensions = ["go"]
detect_files = ["go.mod", "go.sum", "go.work", "glide.yaml", "Gopkg.yml", "Gopkg.lock", ".go-version"]
detect_folders = ["Godeps"]
disabled = false

# Java
[java]
symbol = " "
style = "bold red"
format = "via [$symbol($version )]($style)"
disabled = false

# PHP
[php]
symbol = " "
style = "bold blue"
format = "via [$symbol($version )]($style)"
disabled = false

# Ruby
[ruby]
symbol = " "
style = "bold red"
format = "via [$symbol($version )]($style)"
disabled = false

# ============================================================================
# Package Version
# ============================================================================
[package]
symbol = "üì¶ "
style = "bold 208"
format = "is [$symbol$version]($style) "
disabled = false

# ============================================================================
# Docker
# ============================================================================
[docker_context]
symbol = " "
style = "bold blue"
format = "via [$symbol$context]($style) "
only_with_files = true
detect_extensions = []
detect_files = ["docker-compose.yml", "docker-compose.yaml", "Dockerfile"]
detect_folders = []
disabled = false

# ============================================================================
# Kubernetes
# ============================================================================
[kubernetes]
symbol = "‚ò∏ "
style = "bold blue"
format = 'on [$symbol$context( \($namespace\))]($style) '
disabled = true  # Enable if you use kubectl
detect_files = ["k8s"]
detect_folders = []

# ============================================================================
# Cloud Providers
# ============================================================================

# AWS
[aws]
symbol = "‚òÅÔ∏è  "
style = "bold yellow"
format = 'on [$symbol($profile )(\($region\) )(\[$duration\] )]($style)'
disabled = false

# Google Cloud
[gcloud]
symbol = "‚òÅÔ∏è  "
style = "bold blue"
format = 'on [$symbol$account(@$domain)(\($region\))]($style) '
disabled = false

# Azure
[azure]
symbol = "Ô¥É "
style = "bold blue"
format = "on [$symbol($subscription)]($style) "
disabled = false

# ============================================================================
# Environment Variables
# ============================================================================
[env_var.SHELL]
variable = "SHELL"
default = "unknown shell"
disabled = true

# ============================================================================
# Memory Usage
# ============================================================================
[memory_usage]
disabled = true
threshold = 75
symbol = " "
style = "bold dimmed white"
format = "via $symbol[$ram( | $swap)]($style) "

# ============================================================================
# Battery
# ============================================================================
[battery]
full_symbol = "üîã"
charging_symbol = "‚ö°"
discharging_symbol = "üíÄ"
unknown_symbol = "‚ùì"
empty_symbol = "ü™´"
disabled = true

[[battery.display]]
threshold = 10
style = "bold red"

[[battery.display]]
threshold = 30
style = "bold yellow"

# ============================================================================
# Jobs
# ============================================================================
[jobs]
symbol = "‚ú¶ "
style = "bold blue"
number_threshold = 1
symbol_threshold = 1
format = "[$symbol$number]($style) "

# ============================================================================
# Status
# ============================================================================
[status]
style = "bold red"
symbol = "‚úñ"
success_symbol = ""
not_executable_symbol = "üö´"
not_found_symbol = "üîç"
sigint_symbol = "üß±"
signal_symbol = "‚ö°"
format = '[\[$symbol$status( $common_meaning)( $signal_name)( $maybe_int)\]]($style) '
map_symbol = true
disabled = false
pipestatus = true
pipestatus_separator = "|"
pipestatus_format = '\[$pipestatus\] => [$symbol$status]($style)'

# ============================================================================
# SHLVL (Shell Level)
# ============================================================================
[shlvl]
disabled = true
threshold = 2
symbol = "‚ÜïÔ∏è  "
style = "bold yellow"
format = "[$symbol$shlvl]($style) "

# ============================================================================
# Line Break
# ============================================================================
[line_break]
disabled = false

# ============================================================================
# Custom Commands (Examples)
# ============================================================================

# Show if in a Nix shell
[custom.nix_shell]
disabled = true
description = "Show if in a Nix shell"
command = "echo 'nix-shell'"
when = "test -n \"$IN_NIX_SHELL\""
style = "bold blue"
symbol = "‚ùÑÔ∏è "
format = "via [$symbol$output]($style) "
